---
layout: default
---

<div class="home post-list">
  {{ content }}

  {%- if site.posts.size > 0 -%}
    <div class="post-filters" role="group" aria-label="Filter posts">
      <span class="post-filters-label">Filter:</span>
      <button class="post-filter is-active" data-filter="all" type="button">All</button>
      <button class="post-filter" data-filter="engineering" type="button">Engineering</button>
      <button class="post-filter" data-filter="personal" type="button">Personal</button>
      <button class="post-filter" data-filter="review" type="button">Reviews</button>
    </div>
    <hr class="post-filters-divider" />
    {%- for post in site.posts -%}
    {%- assign post_categories = post.categories -%}
    {%- if post_categories == nil or post_categories == empty -%}
      {%- assign post_categories = post.category | split: ',' -%}
    {%- endif -%}
    <div class="post-item" data-categories="{{ post_categories | join: ',' | downcase }}">
      {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
      <div class="post-flex-container">
        <div class="post-left">
          <div class="post-title">
            <a class="post-link" href="{{ post.url | relative_url }}">
              {{ post.title | escape }}
            </a>
          </div>
          <div class="post-tags">
            {% for tag in post.tags %}
              <span class="post-tag">{{ tag }}</span>
            {% endfor %}
          </div>
        </div>
        <div class="post-date">
          <span class="post-meta">{{ post.date | date: date_format }}</span>
        </div>
      </div>
      {%- if site.show_excerpts -%}
        {{ post.excerpt }}
      {%- endif -%}
    </div>
    {%- endfor -%}
  {%- endif -%}

</div>

<script>
  (function() {
    const filters = document.querySelectorAll('.post-filter');
    const items = document.querySelectorAll('.post-item');
    if (!filters.length || !items.length) return;

    function setFilter(filter) {
      filters.forEach(button => {
        button.classList.toggle('is-active', button.dataset.filter === filter);
      });

      items.forEach(item => {
        const categories = (item.dataset.categories || '')
          .split(',')
          .map(category => category.trim())
          .filter(Boolean);
        const matches = filter === 'all' || categories.includes(filter);
        item.style.display = matches ? '' : 'none';
      });
    }

    filters.forEach(button => {
      button.addEventListener('click', () => setFilter(button.dataset.filter));
    });
  })();
</script>
